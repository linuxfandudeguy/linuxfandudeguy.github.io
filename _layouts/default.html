<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{{ page.title }} | {{ site.title }}</title>
  {% assign timestamp = site.time | date: "%Y%m%d%H%M%S" %}
  <link rel="stylesheet" href="./assets/styles.css?v={{ timestamp }}"></head>
<link rel="icon" type="image/gif" href="./assets/moraler_pose08.ico?v={{ timestamp }}">

<body>
  <header>{{ site.title }} - <a href="./homepage.html">home</a> - <a href="https://lelbois.nekoweb.org">old site</a>  </header>

  <main>
    {{ content }}
  </main>
<!-- FC2 Counter  Starts here -->
<div align="center"><script language="javascript" type="text/javascript" src="//counter1.fc2.com/counter.php?id=40550965&main=1"></script><noscript><img src="//counter1.fc2.com/counter_img.php?id=40550965&main=1" /></noscript></div>
<!-- FC2 Counter  Ends here -->
  <footer>© 2025 Durokotte / デュロコッテ</footer>
<script type="module">
  import { bubbleCursor } from "./assets/esm.js";

  new bubbleCursor();
</script>
<script>
  const cursorSound = new Audio('./assets/menucursor.ogg');
  cursorSound.preload = "auto"; // preloads the audio

  let audioUnlocked = false;

  // Unlock audio on first user gesture
  function unlockAudio() {
    cursorSound.play().catch(() => {});
    cursorSound.pause();
    cursorSound.currentTime = 0;
    audioUnlocked = true;

    // Remove the event listeners after unlocking
    document.removeEventListener('click', unlockAudio);
    document.removeEventListener('keydown', unlockAudio);
  }

  document.addEventListener('click', unlockAudio);
  document.addEventListener('keydown', unlockAudio);

  // Add hover sound once audio is unlocked
  document.querySelectorAll('a').forEach(link => {
    link.addEventListener('mouseenter', () => {
      if (!audioUnlocked) return;
      cursorSound.currentTime = 0;
      cursorSound.play();
    });
  });
</script>
<script>
  const clickSound = new Audio('./assets/undertale-select-sound.mp3');
  clickSound.preload = "auto"; // preload the audio

  let audioUnlocked = false;

  // Unlock audio on first user gesture
  function unlockAudio() {
    clickSound.play().catch(() => {});
    clickSound.pause();
    clickSound.currentTime = 0;
    audioUnlocked = true;

    document.removeEventListener('click', unlockAudio);
    document.removeEventListener('keydown', unlockAudio);
  }

  document.addEventListener('click', unlockAudio);
  document.addEventListener('keydown', unlockAudio);

  // Play sound on link click
  document.querySelectorAll('a').forEach(link => {
    link.addEventListener('click', (e) => {
      if (!audioUnlocked) return;
      clickSound.currentTime = 0;
      clickSound.play();
    });
  });
</script>

</body>
</html>
