---
layout: iframe
---

<h1>Now Playing</h1>
<div>
  Loading...
</div>

<script>
async function fetchLastFM() {
  const container = document.getElementById('lastfm-info');
  try {
    const response = await fetch('https://linuxfandudeguyapi.netlify.app/.netlify/functions/lastfm');
    if (!response.ok) throw new Error('Network response was not ok');

    const data = await response.json();

    // Example structure based on typical Last.fm API data
    // Adjust keys based on what your API returns
    const html = `
      <p><strong>Artist:</strong> ${data.artist || 'N/A'}</p>
      <p><strong>Track:</strong> ${data.track || 'N/A'}</p>
      <p><strong>Album:</strong> ${data.album || 'N/A'}</p>
    `;
    container.innerHTML = html;
  } catch (err) {
    container.innerHTML = `<p style="color:red;">Error fetching data: ${err.message}</p>`;
    console.error(err);
  }
}

fetchLastFM();
</script>
